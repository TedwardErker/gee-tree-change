/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var geometry = /* color: #1d65f7 */ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32922050902823,
                    45.00155861411567
                  ],
                  [
                    -90.32943612168056,
                    45.001135447621074
                  ],
                  [
                    -90.32916521970672,
                    45.00150527846142
                  ],
                  [
                    -90.32875081758996,
                    45.001508123368836
                  ],
                  [
                    -90.3285080773614,
                    45.00141613938183
                  ],
                  [
                    -90.32849198410732,
                    45.001529932947136
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.635427104442,
                    44.9652874178074
                  ],
                  [
                    -89.63545258542764,
                    44.965249462656985
                  ],
                  [
                    -89.63544856211412,
                    44.96520486532318
                  ],
                  [
                    -89.63546733757723,
                    44.96518304108334
                  ],
                  [
                    -89.63547672530878,
                    44.965150779148374
                  ],
                  [
                    -89.63557864925134,
                    44.96515267690979
                  ],
                  [
                    -89.63558133146036,
                    44.96512610824473
                  ],
                  [
                    -89.63557462593782,
                    44.96510238621195
                  ],
                  [
                    -89.6355518271612,
                    44.9650691753496
                  ],
                  [
                    -89.63556121489275,
                    44.96501508904689
                  ],
                  [
                    -89.6356430222677,
                    44.964990418084874
                  ],
                  [
                    -89.63569264313448,
                    44.96499516250147
                  ],
                  [
                    -89.63574092289674,
                    44.964974287065495
                  ],
                  [
                    -89.63570739528406,
                    44.964942973897294
                  ],
                  [
                    -89.63560949465501,
                    44.96494392278144
                  ],
                  [
                    -89.63531579276788,
                    44.965262746962495
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63331896729211,
                    44.965053200814886
                  ],
                  [
                    -89.63323850102167,
                    44.96507692286799
                  ],
                  [
                    -89.63320363230447,
                    44.96503612093056
                  ],
                  [
                    -89.6331727869008,
                    44.96505509857947
                  ],
                  [
                    -89.63312316603403,
                    44.96506648516581
                  ],
                  [
                    -89.63306818074922,
                    44.96508166727743
                  ],
                  [
                    -89.63296893901567,
                    44.96512057142007
                  ],
                  [
                    -89.63299442000131,
                    44.96518224866532
                  ],
                  [
                    -89.63351342744569,
                    44.965122469182454
                  ],
                  [
                    -89.63348258204202,
                    44.96505794522627
                  ],
                  [
                    -89.63341955013017,
                    44.96506743404792
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63262963059849,
                    44.969353224129506
                  ],
                  [
                    -89.63262963059849,
                    44.969325708598355
                  ],
                  [
                    -89.63261890176243,
                    44.96931622048109
                  ],
                  [
                    -89.63262292507595,
                    44.96927826799638
                  ],
                  [
                    -89.63265377047962,
                    44.9692469571776
                  ],
                  [
                    -89.63265242937511,
                    44.969144485287536
                  ],
                  [
                    -89.63256928089565,
                    44.969142587658226
                  ],
                  [
                    -89.63255721095508,
                    44.96935891699636
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63140495122802,
                    44.9693287391967
                  ],
                  [
                    -89.63145256043803,
                    44.969304070089855
                  ],
                  [
                    -89.6313834935559,
                    44.96921535609885
                  ],
                  [
                    -89.63126413525474,
                    44.969198277453785
                  ],
                  [
                    -89.63126145304572,
                    44.96922104897937
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63094763459098,
                    44.9693927839437
                  ],
                  [
                    -89.6309603750838,
                    44.96933775290615
                  ],
                  [
                    -89.63090471924674,
                    44.96928129859725
                  ],
                  [
                    -89.63086985052955,
                    44.969353408292875
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3627688266468,
                    45.007516287123586
                  ],
                  [
                    -90.36277955548286,
                    45.00747456720242
                  ],
                  [
                    -90.3613472558689,
                    45.00752766527863
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.36157822963261,
                    45.00724540057587
                  ],
                  [
                    -90.36158091184163,
                    45.00719988771786
                  ],
                  [
                    -90.3613421952393,
                    45.007197991347994
                  ],
                  [
                    -90.36135292407536,
                    45.00725298604869
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.36019559460763,
                    45.00787702830174
                  ],
                  [
                    -90.35823758202676,
                    45.007897888119544
                  ],
                  [
                    -90.35921927052621,
                    45.007901680812864
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.35808551841745,
                    45.00933962189198
                  ],
                  [
                    -90.35809088283548,
                    45.00923627350338
                  ],
                  [
                    -90.35804796749125,
                    45.009235325352165
                  ],
                  [
                    -90.35804796749125,
                    45.00933772559294
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.71458486130655,
                    44.72946701091195
                  ],
                  [
                    -89.71292189171731,
                    44.7288648564403
                  ],
                  [
                    -89.71579721978128,
                    44.73016062411611
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.7257428508085,
                    44.72894107887186
                  ],
                  [
                    -89.72005656769693,
                    44.729200234387804
                  ],
                  [
                    -89.72286752274454,
                    44.729253589791085
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.71330375040495,
                    44.73504148139392
                  ],
                  [
                    -89.71328229273283,
                    44.73392874129847
                  ],
                  [
                    -89.71316427553617,
                    44.73501099564919
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.71458409188723,
                    44.74534257008498
                  ],
                  [
                    -89.71475575326419,
                    44.74528541948354
                  ],
                  [
                    -89.71464041827655,
                    44.74527398935644
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.7132303513671,
                    44.74556921744353
                  ],
                  [
                    -89.71318207160483,
                    44.74555016732402
                  ],
                  [
                    -89.71309221760283,
                    44.74559207757866
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class_2017": 4,
          "system:index": "0"
        }),
    geometry2 = /* color: #fffe58 */ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32720461202135,
                    45.00925300171725
                  ],
                  [
                    -90.32744601083269,
                    45.00914680871438
                  ],
                  [
                    -90.32714023900499,
                    45.00918094220105
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.31944229913225,
                    45.00913922349235
                  ],
                  [
                    -90.3185518057393,
                    45.00918094220105
                  ],
                  [
                    -90.31993046117296,
                    45.00918094220105
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32370969367494,
                    45.00981240803559
                  ],
                  [
                    -90.32322421384325,
                    45.00992428864364
                  ],
                  [
                    -90.32436147046556,
                    45.00987498535175
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34382022405748,
                    45.00601225159918
                  ],
                  [
                    -90.34371427675354,
                    45.00548125383077
                  ],
                  [
                    -90.34380144859438,
                    45.00542815460169
                  ],
                  [
                    -90.34355200315599,
                    45.00548125457482
                  ],
                  [
                    -90.34354663870226,
                    45.00574106388478
                  ],
                  [
                    -90.34356809641008,
                    45.00598949468479
                  ],
                  [
                    -90.34359760093294,
                    45.00553814683997
                  ],
                  [
                    -90.34367538474564,
                    45.00548504749641
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32018720716876,
                    45.01320870311262
                  ],
                  [
                    -90.32004773293156,
                    45.01335281392012
                  ],
                  [
                    -90.31882464498919,
                    45.01331488858444
                  ],
                  [
                    -90.32005846113604,
                    45.01337177357763
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.33939678811325,
                    45.008636496199856
                  ],
                  [
                    -90.33912320280368,
                    45.008499961112804
                  ],
                  [
                    -90.33809859980784,
                    45.008553058205045
                  ],
                  [
                    -90.33764262423057,
                    45.008685800534934
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.35212244908153,
                    45.01298415158922
                  ],
                  [
                    -90.35293247620403,
                    45.01254044414067
                  ],
                  [
                    -90.35245504299938,
                    45.0125745756049
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3329923001877,
                    45.013304455780265
                  ],
                  [
                    -90.33297352476785,
                    45.013355652361824
                  ],
                  [
                    -90.332828685443,
                    45.01336134089122
                  ],
                  [
                    -90.33256851113114,
                    45.01335660044118
                  ],
                  [
                    -90.33267848173296,
                    45.01330824811561
                  ],
                  [
                    -90.3323995319954,
                    45.01337271777776
                  ],
                  [
                    -90.33300839344179,
                    45.01337082161228
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3322546927086,
                    45.0131451774697
                  ],
                  [
                    -90.33186711353102,
                    45.013273169404854
                  ],
                  [
                    -90.3317142275921,
                    45.013340482955776
                  ],
                  [
                    -90.33166460672533,
                    45.01337840627387
                  ],
                  [
                    -90.33205620928607,
                    45.01327222130947
                  ],
                  [
                    -90.33224932829057,
                    45.013295923024884
                  ],
                  [
                    -90.33210851232083,
                    45.01324899279785
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.35216227640272,
                    45.015208139779276
                  ],
                  [
                    -90.35213545431257,
                    45.01512091889687
                  ],
                  [
                    -90.35106257070662,
                    45.015151256610146
                  ],
                  [
                    -90.35110012163283,
                    45.01522710082308
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34570815444266,
                    45.00186641051737
                  ],
                  [
                    -90.34471037369104,
                    45.001974517689185
                  ],
                  [
                    -90.34383060813224,
                    45.00203330635752
                  ],
                  [
                    -90.34376623511588,
                    45.00207123716243
                  ],
                  [
                    -90.34562232375418,
                    45.00190054834239
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34255387664115,
                    45.00130503003265
                  ],
                  [
                    -90.34233393550193,
                    45.00130123690255
                  ],
                  [
                    -90.34249755013997,
                    45.00135434008828
                  ],
                  [
                    -90.3423822152642,
                    45.001832272672
                  ],
                  [
                    -90.34254851222312,
                    45.00182847957681
                  ],
                  [
                    -90.34243317724776,
                    45.001794341111044
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32047638572112,
                    44.99413688141035
                  ],
                  [
                    -90.31948799186247,
                    44.99413404045715
                  ],
                  [
                    -90.31850630319968,
                    44.99414162341578
                  ],
                  [
                    -90.31850093878165,
                    44.99416533343707
                  ],
                  [
                    -90.32047504461661,
                    44.99415395262807
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63370194402388,
                    44.96943499351239
                  ],
                  [
                    -89.6336771335905,
                    44.969315917754024
                  ],
                  [
                    -89.6335973378723,
                    44.96930168557513
                  ],
                  [
                    -89.63318695989302,
                    44.969313071318524
                  ],
                  [
                    -89.63329424825362,
                    44.96943167267787
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.64925495438182,
                    44.96409797012034
                  ],
                  [
                    -89.64939979365603,
                    44.964048152955264
                  ],
                  [
                    -89.64929786971346,
                    44.963960854185935
                  ],
                  [
                    -89.64912620833651,
                    44.9639788832905
                  ],
                  [
                    -89.64920667458563,
                    44.96404056176326
                  ],
                  [
                    -89.64918052307121,
                    44.9640718754339
                  ],
                  [
                    -89.64912989638,
                    44.96407851772936
                  ],
                  [
                    -89.64908597520129,
                    44.964075671018136
                  ],
                  [
                    -89.64914900711314,
                    44.964097495679155
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.66086722067023,
                    44.96698150505544
                  ],
                  [
                    -89.66023555978836,
                    44.966979607615116
                  ],
                  [
                    -89.66034083750839,
                    44.96657444551995
                  ],
                  [
                    -89.6604300206008,
                    44.966169283342275
                  ],
                  [
                    -89.66019935062552,
                    44.96700427746109
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25092215687818,
                    44.78396888067473
                  ],
                  [
                    -89.25088058263844,
                    44.78392128701111
                  ],
                  [
                    -89.25080816299504,
                    44.78398887000173
                  ],
                  [
                    -89.25091411025113,
                    44.78402218553136
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25094897896832,
                    44.78347104901219
                  ],
                  [
                    -89.25093825013226,
                    44.78343106999265
                  ],
                  [
                    -89.25086717159337,
                    44.7834186955286
                  ],
                  [
                    -89.25086314827985,
                    44.783491038511585
                  ],
                  [
                    -89.25091411025113,
                    44.783509124243146
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.251701338597,
                    44.783588606206855
                  ],
                  [
                    -89.25170066804475,
                    44.78357290019875
                  ],
                  [
                    -89.25166848153657,
                    44.78357337613845
                  ],
                  [
                    -89.25163562447614,
                    44.7835705205002
                  ],
                  [
                    -89.25159472078866,
                    44.78355243478784
                  ],
                  [
                    -89.25152967722005,
                    44.783551958847966
                  ],
                  [
                    -89.25152565390653,
                    44.78360240845287
                  ],
                  [
                    -89.25154711157865,
                    44.783585750569344
                  ],
                  [
                    -89.25166043490952,
                    44.783580991173174
                  ],
                  [
                    -89.25167250485009,
                    44.78359336560242
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.2523055061776,
                    44.78317358540581
                  ],
                  [
                    -89.25230014175958,
                    44.78313360618027
                  ],
                  [
                    -89.25222772211617,
                    44.78313646184015
                  ],
                  [
                    -89.25222638101167,
                    44.783182152379105
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.69259961783386,
                    44.89257138076461
                  ],
                  [
                    -89.69268813073136,
                    44.892491573949115
                  ],
                  [
                    -89.69246818959213,
                    44.89255807963637
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.69253591015897,
                    44.89275481260967
                  ],
                  [
                    -89.69254328623376,
                    44.89271158406957
                  ],
                  [
                    -89.69254865065179,
                    44.892696857856166
                  ],
                  [
                    -89.69258650786037,
                    44.89268735707133
                  ],
                  [
                    -89.69262405878658,
                    44.89268593195347
                  ],
                  [
                    -89.69262405878658,
                    44.89267453100933
                  ],
                  [
                    -89.69254225141162,
                    44.8926783313243
                  ],
                  [
                    -89.69252012318725,
                    44.89273533601869
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class_2017": 0,
          "system:index": "0"
        }),
    geometry3 = /* color: #2ca919 */ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.31949444564827,
                    45.00817705203298
                  ],
                  [
                    -90.31952126773842,
                    45.00796845452964
                  ],
                  [
                    -90.31849666389473,
                    45.00795707646215
                  ],
                  [
                    -90.318003137436,
                    45.00808982044217
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3188813596075,
                    45.00697863352379
                  ],
                  [
                    -90.31800695946865,
                    45.006840197823706
                  ],
                  [
                    -90.31802305272274,
                    45.00708293417274
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32168695023708,
                    45.00724981481601
                  ],
                  [
                    -90.32170304349117,
                    45.00699190816239
                  ],
                  [
                    -90.32159307292156,
                    45.00698811540882
                  ],
                  [
                    -90.32156625083141,
                    45.00724602207951
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32103170300319,
                    45.00554920034261
                  ],
                  [
                    -90.32077957535579,
                    45.00529128603215
                  ],
                  [
                    -90.32067228699519,
                    45.00556057888838
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34505978693129,
                    45.01384591829587
                  ],
                  [
                    -90.34415320028425,
                    45.01382506064428
                  ],
                  [
                    -90.3436046899205,
                    45.014123703177326
                  ],
                  [
                    -90.34373745904281,
                    45.01426686169839
                  ],
                  [
                    -90.34364358057142,
                    45.01434460352183
                  ],
                  [
                    -90.34375891555906,
                    45.01457403519001
                  ],
                  [
                    -90.3438400558853,
                    45.01412275524669
                  ],
                  [
                    -90.34427524492936,
                    45.01393693410269
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34548625812114,
                    45.01428771947918
                  ],
                  [
                    -90.34556404220744,
                    45.01441096816778
                  ],
                  [
                    -90.34570351714088,
                    45.01435029191261
                  ],
                  [
                    -90.34571961035893,
                    45.01407914423138
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63519704265721,
                    44.96589460783977
                  ],
                  [
                    -89.63539552581294,
                    44.965971466119626
                  ],
                  [
                    -89.63550817890294,
                    44.96612423353367
                  ],
                  [
                    -89.63560071511395,
                    44.96601226740107
                  ],
                  [
                    -89.63551756663449,
                    44.9659135852047
                  ],
                  [
                    -89.63535529298909,
                    44.965831982491025
                  ],
                  [
                    -89.63514742179044,
                    44.96581869831735
                  ],
                  [
                    -89.63509645981915,
                    44.965842420053896
                  ],
                  [
                    -89.63504013342984,
                    44.96584052231533
                  ],
                  [
                    -89.63494893832333,
                    44.96586803951836
                  ],
                  [
                    -89.63483762664922,
                    44.96590884086405
                  ],
                  [
                    -89.63474911375172,
                    44.96597431273024
                  ],
                  [
                    -89.63467803521283,
                    44.966078688014576
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63955983138284,
                    44.966882132468335
                  ],
                  [
                    -89.63944248473844,
                    44.96686030886662
                  ],
                  [
                    -89.63936604178151,
                    44.966873118372995
                  ],
                  [
                    -89.63934190190038,
                    44.966938114713024
                  ],
                  [
                    -89.63939152276716,
                    44.9669808129985
                  ],
                  [
                    -89.63954105591974,
                    44.96695519403103
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63894666700365,
                    44.96665048433125
                  ],
                  [
                    -89.6387924399853,
                    44.966639098059325
                  ],
                  [
                    -89.638738795805,
                    44.96667515457934
                  ],
                  [
                    -89.63877902894022,
                    44.96674536984272
                  ],
                  [
                    -89.6388822939873,
                    44.96671168550411
                  ],
                  [
                    -89.63885949521067,
                    44.96667278244054
                  ],
                  [
                    -89.63894398479464,
                    44.96667041030167
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.66233573010588,
                    44.96672151945006
                  ],
                  [
                    -89.66227806253572,
                    44.96668309120573
                  ],
                  [
                    -89.66178990057135,
                    44.96674144539581
                  ],
                  [
                    -89.66143048456335,
                    44.96690369926789
                  ],
                  [
                    -89.66184354475165,
                    44.96675947362648
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.64795932147607,
                    44.97327606126632
                  ],
                  [
                    -89.64788690183266,
                    44.973228623931846
                  ],
                  [
                    -89.64781984660729,
                    44.97323479078756
                  ],
                  [
                    -89.64776150856122,
                    44.97326515068286
                  ],
                  [
                    -89.64775077972516,
                    44.973284599982364
                  ],
                  [
                    -89.64777559015855,
                    44.9733277679162
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.64617302306317,
                    44.972897535243696
                  ],
                  [
                    -89.64610395618104,
                    44.972861957011695
                  ],
                  [
                    -89.64606372304581,
                    44.97285863637559
                  ],
                  [
                    -89.64600069113396,
                    44.97288140644793
                  ],
                  [
                    -89.64596716352128,
                    44.972901330253805
                  ],
                  [
                    -89.64595576413296,
                    44.97291651029173
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.64617121804962,
                    44.9726299060858
                  ],
                  [
                    -89.6461164003918,
                    44.97258543309643
                  ],
                  [
                    -89.6460649355174,
                    44.97261211688956
                  ],
                  [
                    -89.64603274900922,
                    44.972579621943446
                  ],
                  [
                    -89.64596301157484,
                    44.97261401440405
                  ],
                  [
                    -89.64595027108201,
                    44.97263393830285
                  ],
                  [
                    -89.64606275622646,
                    44.97263002473364
                  ],
                  [
                    -89.64611899879485,
                    44.97264941493745
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.64517737527095,
                    44.97273326145647
                  ],
                  [
                    -89.64512238998614,
                    44.97271286321439
                  ],
                  [
                    -89.64507880408965,
                    44.97271476072557
                  ],
                  [
                    -89.64505533476077,
                    44.972737056477456
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.62651073391999,
                    44.96910678517585
                  ],
                  [
                    -89.62651073391999,
                    44.96907262781605
                  ],
                  [
                    -89.62643697317208,
                    44.96906408847289
                  ],
                  [
                    -89.62635516579712,
                    44.96911247806719
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.62284753234078,
                    44.969175319503336
                  ],
                  [
                    -89.62274024398019,
                    44.96912408351719
                  ],
                  [
                    -89.6226342967241,
                    44.96921516968313
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.62163231316342,
                    44.969187650664686
                  ],
                  [
                    -89.6214948499514,
                    44.96919239473415
                  ],
                  [
                    -89.6215035671307,
                    44.96921991032927
                  ],
                  [
                    -89.62163566592469,
                    44.969217063889005
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25070623905248,
                    44.783998388726445
                  ],
                  [
                    -89.25069416911191,
                    44.7840383673531
                  ],
                  [
                    -89.25080816299504,
                    44.784049789812784
                  ],
                  [
                    -89.25081218630856,
                    44.78399743685404
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25195279569215,
                    44.7832278428819
                  ],
                  [
                    -89.25209495276994,
                    44.78317168163379
                  ],
                  [
                    -89.25193670243806,
                    44.7830850599406
                  ],
                  [
                    -89.25192463249749,
                    44.78317548917776
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25779924159197,
                    44.78311398829882
                  ],
                  [
                    -89.25770804648546,
                    44.7829902428594
                  ],
                  [
                    -89.25747201209215,
                    44.78305497127619
                  ],
                  [
                    -89.2575524783626,
                    44.78315777508309
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25690179028913,
                    44.78348367753974
                  ],
                  [
                    -89.2569138602297,
                    44.78345512110627
                  ],
                  [
                    -89.2568877086918,
                    44.78343893912105
                  ],
                  [
                    -89.25683741727278,
                    44.78344845793642
                  ],
                  [
                    -89.25683339395925,
                    44.783471303086955
                  ],
                  [
                    -89.2568414405863,
                    44.78349034070552
                  ],
                  [
                    -89.25687563875124,
                    44.78349985951242
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25265537513631,
                    44.78337785567443
                  ],
                  [
                    -89.25260441316503,
                    44.78335025107172
                  ],
                  [
                    -89.25252394689458,
                    44.78336167366753
                  ],
                  [
                    -89.25251724137205,
                    44.783388326382344
                  ],
                  [
                    -89.25248505486387,
                    44.78341973849472
                  ],
                  [
                    -89.25254004014867,
                    44.78345876564083
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25228388918775,
                    44.78332455022284
                  ],
                  [
                    -89.2522570670976,
                    44.78335263077937
                  ],
                  [
                    -89.25225438488859,
                    44.78337500002649
                  ],
                  [
                    -89.2523019940986,
                    44.78338023538094
                  ],
                  [
                    -89.25232009900945,
                    44.7833364487654
                  ],
                  [
                    -89.25239654196638,
                    44.78333692470706
                  ],
                  [
                    -89.25245622111696,
                    44.783325978048076
                  ],
                  [
                    -89.25241397632497,
                    44.78330456066579
                  ],
                  [
                    -89.25233954502481,
                    44.7833078922591
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25318721715281,
                    44.782926995203375
                  ],
                  [
                    -89.25319056991408,
                    44.78287368933549
                  ],
                  [
                    -89.2531221735842,
                    44.78287940068083
                  ],
                  [
                    -89.25310608033011,
                    44.78295364811886
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.26621712469563,
                    44.79694856987192
                  ],
                  [
                    -89.26578260683522,
                    44.796900986910316
                  ],
                  [
                    -89.26573432707295,
                    44.797074188702
                  ],
                  [
                    -89.26615006947026,
                    44.797097028459895
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.71007875016153,
                    44.729581343331326
                  ],
                  [
                    -89.71010020783365,
                    44.7294403333149
                  ],
                  [
                    -89.7098212580961,
                    44.729447955486734
                  ],
                  [
                    -89.70980516484201,
                    44.7295851544081
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.7089387951605,
                    44.73018949663738
                  ],
                  [
                    -89.70891733748839,
                    44.73018378008188
                  ],
                  [
                    -89.7088650344126,
                    44.730187591118934
                  ],
                  [
                    -89.7088127313368,
                    44.73021331561252
                  ],
                  [
                    -89.70878859145567,
                    44.730249520435954
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.70763248074323,
                    44.73123425539122
                  ],
                  [
                    -89.70763985681802,
                    44.73117851995786
                  ],
                  [
                    -89.70761303472787,
                    44.73119328747108
                  ],
                  [
                    -89.70760901141435,
                    44.73121948788846
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.69260461277122,
                    44.89273676113532
                  ],
                  [
                    -89.69262539989109,
                    44.892705883600314
                  ],
                  [
                    -89.6926193649208,
                    44.89269163242471
                  ],
                  [
                    -89.69258784896488,
                    44.89269305754244
                  ],
                  [
                    -89.6925831550991,
                    44.892699233052134
                  ],
                  [
                    -89.69254962748641,
                    44.892702083287155
                  ],
                  [
                    -89.69253889865035,
                    44.8927453118344
                  ],
                  [
                    -89.69254962748641,
                    44.89275433757092
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.61803029961908,
                    44.922064270296964
                  ],
                  [
                    -89.61797799654329,
                    44.922043379244315
                  ],
                  [
                    -89.61787473149622,
                    44.92206711907632
                  ],
                  [
                    -89.61788680143678,
                    44.92211839707991
                  ],
                  [
                    -89.61788411922777,
                    44.922176322177094
                  ],
                  [
                    -89.61794983334863,
                    44.92216967503775
                  ],
                  [
                    -89.61795653887117,
                    44.92207851419216
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class_2017": 3,
          "system:index": "0"
        }),
    geometry4 = /* color: #ff3e0c */ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3279035719412,
                    45.00598217769598
                  ],
                  [
                    -90.3279035719412,
                    45.00585891090359
                  ],
                  [
                    -90.32651955208952,
                    45.00589683917567
                  ],
                  [
                    -90.32652223429854,
                    45.006029587930136
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.64587248702058,
                    44.97279593831809
                  ],
                  [
                    -89.64574508209238,
                    44.972750872473995
                  ],
                  [
                    -89.6457491054059,
                    44.97280068208909
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.62695195730294,
                    44.96925859541785
                  ],
                  [
                    -89.62695866282547,
                    44.96924246559871
                  ],
                  [
                    -89.62673738058174,
                    44.96924056797264
                  ],
                  [
                    -89.62674140389527,
                    44.96926523710677
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25373675126549,
                    44.783616917516554
                  ],
                  [
                    -89.25373675126549,
                    44.783542670931546
                  ],
                  [
                    -89.25368847150322,
                    44.783540767171715
                  ],
                  [
                    -89.25366433162209,
                    44.783616917516554
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class_2017": 1,
          "system:index": "0"
        }),
    geometry5 = /* color: #d6b257 */ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34585640300871,
                    45.014183431965556
                  ],
                  [
                    -90.34577057232023,
                    45.014183431965556
                  ],
                  [
                    -90.34584835638167,
                    45.01439011070262
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34690112342001,
                    45.01436356485155
                  ],
                  [
                    -90.34690112342001,
                    45.01425738132414
                  ],
                  [
                    -90.34687832464338,
                    45.01425927746031
                  ],
                  [
                    -90.34687296022535,
                    45.01436735711674
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34622520674826,
                    45.01423936802765
                  ],
                  [
                    -90.34619302024008,
                    45.01424600450597
                  ],
                  [
                    -90.34620106686712,
                    45.01436261678522
                  ],
                  [
                    -90.3462332533753,
                    45.01436072065248
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.25665100374624,
                    44.78344179476584
                  ],
                  [
                    -89.25662485220835,
                    44.78339039313815
                  ],
                  [
                    -89.25663289883539,
                    44.783319477854455
                  ],
                  [
                    -89.25659668901369,
                    44.783317098145424
                  ],
                  [
                    -89.25658528962538,
                    44.783397056314676
                  ],
                  [
                    -89.25661747613356,
                    44.78346749556251
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.74195677447275,
                    44.88312144940134
                  ],
                  [
                    -89.74195677447275,
                    44.88300742089907
                  ],
                  [
                    -89.74130231547312,
                    44.882999818990875
                  ],
                  [
                    -89.74127012896494,
                    44.88312905129348
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.11750164116883,
                    44.659593187627046
                  ],
                  [
                    -90.11760542990278,
                    44.6594320290871
                  ],
                  [
                    -90.1174833893926,
                    44.65951883611124
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.11274876946392,
                    44.66538984846414
                  ],
                  [
                    -90.11268976086559,
                    44.66526775860362
                  ],
                  [
                    -90.11269512528362,
                    44.66534788010357
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class_2017": 2,
          "system:index": "0"
        }),
    wb = ee.Image("users/erker/mar_water_bodies_2"),
    imageVisParam = {"opacity":1,"bands":["R","G","B"],"min":62.746165077883106,"max":179.7892639724612,"gamma":1},
    elderon = 
    /* color: #f7f7f7 */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-89.25706868861197, 44.78521002402276],
          [-89.25706868861197, 44.78178325362632],
          [-89.24456959460257, 44.78178325362632],
          [-89.24456959460257, 44.78521002402276]]], null, false);
/***** End of imports. If edited, may not auto-convert in the playground. *****/

          // I need to upload water layer
var grass = /* color: #fffe58 */geometry2,
    tree = /* color: #2ca919 */geometry3,
    soil = /* color: #d6b257 */geometry5,
    impervious = /* color: #ff3e0c */geometry4,
    water = /* color: #1d65f7 */geometry;

var pts = ee.FeatureCollection('users/erker/UTC/marathon_shapefiles/marathon_combined_sub_10k');
var testpts = ee.FeatureCollection('users/erker/UTC/marathon_shapefiles/marathon_accuracy_randompoints_20200522').filter(ee.Filter.neq('class_2017', '')).remap(['G','I','S','T','W'], [0,1,2,3,4], 'class_2017');

var naip = ee.ImageCollection('USDA/NAIP/DOQQ').filterBounds(testpts);  // testpts has greater extent than pts
var naip17c = naip.filterDate('2017-01-01', '2017-12-31');
var naip18c = naip.filterDate('2018-01-01', '2018-12-31');
var pts = pts.remap([1,2,3,4,5], [0,1,2,3,4], 'class_2017');

var grass = ee.Feature(grass).set('class_2017', 0);

var pts = pts.merge(grass).merge(tree).merge(soil).merge(impervious).merge(water);

var naip17 = naip17c.median().byte();
var naip18 = naip18c.median().byte();



var ndvi = naip17.normalizedDifference(['N', 'R']);
var gauss53 = ee.Kernel.gaussian({radius: 5, sigma: 3, units: 'pixels', normalize:true});
var naip17Gauss53 = naip17.convolve(gauss53);
var naip18Gauss53 = naip18.convolve(gauss53);
var gauss104 = ee.Kernel.gaussian({radius: 10, sigma: 4, units: 'pixels', normalize:true});
var naip17Gauss104 = naip17.convolve(gauss104);
var naip18Gauss104 = naip18.convolve(gauss104);
var win10 = ee.Kernel.square({radius: 10});
var entro10 = naip17.select('N').entropy(win10);
var win5 = ee.Kernel.square({radius: 5});
var entro5 = naip17.select('N').entropy(win5);
var nir17glcm3 = naip17.select(['N']).glcmTexture({size: 3, average: false});
var contrast3 = nir17glcm3.select('N_contrast_-1_-1', 'N_contrast_0_-1', 'N_contrast_1_-1', 'N_contrast_-1_0');
var nir17glcm7 = naip17.select(['N']).glcmTexture({size: 7, average: false});
var contrast7 = nir17glcm7.select('N_contrast_-1_-1', 'N_contrast_0_-1', 'N_contrast_1_-1', 'N_contrast_-1_0');

var image = ee.Image.cat([naip17, naip18, ndvi, naip17Gauss53, naip17Gauss104, naip18Gauss104, entro10, entro5, contrast3, contrast7]);


var classProperty = 'class_2017';

var training = image.sampleRegions({
  collection: pts,
  properties: [classProperty],
  scale: 1
});
print(training.size());


var trainedClassifier = ee.Classifier.smileRandomForest(100).train({
  features: training,
  classProperty: classProperty,
  inputProperties: image.bandNames()
});

// print(trainedClassifier);

var testing = image.sampleRegions({collection: testpts, properties: [classProperty], scale: 1});
var testClassified = testing.classify(trainedClassifier);
var testAccuracy = testClassified.errorMatrix('class_2017', 'classification');
print('Validation error matrix: ', testAccuracy);
print('Validation overall accuracy: ', testAccuracy.accuracy());


var classified = image.classify(trainedClassifier);




// Map.centerObject(pts, 24);
Map.addLayer(naip17);
//Map.addLayer(naip18);
Map.addLayer(classified, {min: 0, max: 4, palette: ['yellow', 'red', 'brown','green','blue']});



Export.image.toDrive({
  image: classified,
  description: 'elderon',
  scale: 1,
  region: elderon
});



// // Export.image.toDrive({
// //   image: classified,
// //   description: 'active2017-4',
// //   scale: 1,
// //   maxPixels: 12000000000
// //             //  region: 
// // });


