/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var grass = /* color: #fffe58 */ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32720461202135,
                    45.00925300171725
                  ],
                  [
                    -90.32744601083269,
                    45.00914680871438
                  ],
                  [
                    -90.32714023900499,
                    45.00918094220105
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.31944229913225,
                    45.00913922349235
                  ],
                  [
                    -90.3185518057393,
                    45.00918094220105
                  ],
                  [
                    -90.31993046117296,
                    45.00918094220105
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32370969367494,
                    45.00981240803559
                  ],
                  [
                    -90.32322421384325,
                    45.00992428864364
                  ],
                  [
                    -90.32436147046556,
                    45.00987498535175
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34382022405748,
                    45.00601225159918
                  ],
                  [
                    -90.3437880375493,
                    45.0053143687792
                  ],
                  [
                    -90.34355200315599,
                    45.00548125457482
                  ],
                  [
                    -90.34356809641008,
                    45.00598949468479
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32018720716876,
                    45.01320870311262
                  ],
                  [
                    -90.31882464498919,
                    45.01331488858444
                  ],
                  [
                    -90.32005846113604,
                    45.01337177357763
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.33939678811325,
                    45.008636496199856
                  ],
                  [
                    -90.33912320280368,
                    45.008499961112804
                  ],
                  [
                    -90.33809859980784,
                    45.008553058205045
                  ],
                  [
                    -90.33764262423057,
                    45.008685800534934
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.35212244908153,
                    45.01298415158922
                  ],
                  [
                    -90.35293247620403,
                    45.01254044414067
                  ],
                  [
                    -90.35245504299938,
                    45.0125745756049
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3329923001877,
                    45.013304455780265
                  ],
                  [
                    -90.33267848173296,
                    45.01330824811561
                  ],
                  [
                    -90.3323995319954,
                    45.01337271777776
                  ],
                  [
                    -90.33300839344179,
                    45.01337082161228
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3322546927086,
                    45.0131451774697
                  ],
                  [
                    -90.33164851347124,
                    45.01315465833394
                  ],
                  [
                    -90.33166460672533,
                    45.01337840627387
                  ],
                  [
                    -90.33226273933565,
                    45.013361340783845
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.35216227640272,
                    45.015208139779276
                  ],
                  [
                    -90.35213545431257,
                    45.01512091889687
                  ],
                  [
                    -90.35106257070662,
                    45.015151256610146
                  ],
                  [
                    -90.35110012163283,
                    45.01522710082308
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34570815444266,
                    45.00186641051737
                  ],
                  [
                    -90.34375550627982,
                    45.001983996273516
                  ],
                  [
                    -90.34376623511588,
                    45.00207123716243
                  ],
                  [
                    -90.34568669677054,
                    45.00194606541079
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34255387664115,
                    45.00130503003265
                  ],
                  [
                    -90.34233393550193,
                    45.00130123690255
                  ],
                  [
                    -90.3423822152642,
                    45.001832272672
                  ],
                  [
                    -90.34254851222312,
                    45.00182847957681
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32048577345267,
                    44.99403255719136
                  ],
                  [
                    -90.31851166761771,
                    44.99405152524531
                  ],
                  [
                    -90.31850093878165,
                    44.99416533343707
                  ],
                  [
                    -90.32047504461661,
                    44.99415395262807
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63370194402388,
                    44.96943499351239
                  ],
                  [
                    -89.6336771335905,
                    44.969315917754024
                  ],
                  [
                    -89.6335973378723,
                    44.96930168557513
                  ],
                  [
                    -89.63318695989302,
                    44.969313071318524
                  ],
                  [
                    -89.63329424825362,
                    44.96943167267787
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.64925495438182,
                    44.96409797012034
                  ],
                  [
                    -89.64939979365603,
                    44.964048152955264
                  ],
                  [
                    -89.64929786971346,
                    44.963960854185935
                  ],
                  [
                    -89.64912620833651,
                    44.9639788832905
                  ],
                  [
                    -89.64920667458563,
                    44.96404056176326
                  ],
                  [
                    -89.64918052307121,
                    44.9640718754339
                  ],
                  [
                    -89.64912989638,
                    44.96407851772936
                  ],
                  [
                    -89.64908597520129,
                    44.964075671018136
                  ],
                  [
                    -89.64914900711314,
                    44.964097495679155
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.66086722067023,
                    44.96698150505544
                  ],
                  [
                    -89.66026372364188,
                    44.96673100799653
                  ],
                  [
                    -89.66019935062552,
                    44.96700427746109
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class_2017": 0,
          "system:index": "0"
        }),
    tree = /* color: #2ca919 */ee.Feature(
        ee.Geometry({
          "type": "GeometryCollection",
          "geometries": [
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.31949444564827,
                    45.00817705203298
                  ],
                  [
                    -90.31952126773842,
                    45.00796845452964
                  ],
                  [
                    -90.31849666389473,
                    45.00795707646215
                  ],
                  [
                    -90.318003137436,
                    45.00808982044217
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.3188813596075,
                    45.00697863352379
                  ],
                  [
                    -90.31800695946865,
                    45.006840197823706
                  ],
                  [
                    -90.31802305272274,
                    45.00708293417274
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32168695023708,
                    45.00724981481601
                  ],
                  [
                    -90.32170304349117,
                    45.00699190816239
                  ],
                  [
                    -90.32159307292156,
                    45.00698811540882
                  ],
                  [
                    -90.32156625083141,
                    45.00724602207951
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.32103170300319,
                    45.00554920034261
                  ],
                  [
                    -90.32077957535579,
                    45.00529128603215
                  ],
                  [
                    -90.32067228699519,
                    45.00556057888838
                  ]
                ]
              ],
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34505978693129,
                    45.01384591829587
                  ],
                  [
                    -90.34415320028425,
                    45.01382506064428
                  ],
                  [
                    -90.3436046899205,
                    45.014123703177326
                  ],
                  [
                    -90.34373745904281,
                    45.01426686169839
                  ],
                  [
                    -90.34364358057142,
                    45.01434460352183
                  ],
                  [
                    -90.34375891555906,
                    45.01457403519001
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -90.34548625812114,
                    45.01428771947918
                  ],
                  [
                    -90.34556404220744,
                    45.01441096816778
                  ],
                  [
                    -90.34570351714088,
                    45.01435029191261
                  ],
                  [
                    -90.34571961035893,
                    45.01407914423138
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63513803405888,
                    44.966230506270925
                  ],
                  [
                    -89.63550817890294,
                    44.96612423353367
                  ],
                  [
                    -89.63560071511395,
                    44.96601226740107
                  ],
                  [
                    -89.63551756663449,
                    44.9659135852047
                  ],
                  [
                    -89.63535529298909,
                    44.965831982491025
                  ],
                  [
                    -89.63514742179044,
                    44.96581869831735
                  ],
                  [
                    -89.63509645981915,
                    44.965842420053896
                  ],
                  [
                    -89.63504013342984,
                    44.96584052231533
                  ],
                  [
                    -89.63494893832333,
                    44.96586803951836
                  ],
                  [
                    -89.63483762664922,
                    44.96590884086405
                  ],
                  [
                    -89.63474911375172,
                    44.96597431273024
                  ],
                  [
                    -89.63467803521283,
                    44.966078688014576
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63955983138284,
                    44.966882132468335
                  ],
                  [
                    -89.63944248473844,
                    44.96686030886662
                  ],
                  [
                    -89.63936604178151,
                    44.966873118372995
                  ],
                  [
                    -89.63934190190038,
                    44.966938114713024
                  ],
                  [
                    -89.63939152276716,
                    44.9669808129985
                  ],
                  [
                    -89.63954105591974,
                    44.96695519403103
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.63894666700365,
                    44.96665048433125
                  ],
                  [
                    -89.6387924399853,
                    44.966639098059325
                  ],
                  [
                    -89.638738795805,
                    44.96667515457934
                  ],
                  [
                    -89.63877902894022,
                    44.96674536984272
                  ],
                  [
                    -89.6388822939873,
                    44.96671168550411
                  ],
                  [
                    -89.63885949521067,
                    44.96667278244054
                  ],
                  [
                    -89.63894398479464,
                    44.96667041030167
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            },
            {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -89.66208226135397,
                    44.96653744133814
                  ],
                  [
                    -89.66151363304282,
                    44.96655641849038
                  ],
                  [
                    -89.66143048456335,
                    44.96690369926789
                  ],
                  [
                    -89.66200715950156,
                    44.966896108453696
                  ]
                ]
              ],
              "geodesic": true,
              "evenOdd": true
            }
          ],
          "coordinates": []
        }),
        {
          "class_2017": 3,
          "system:index": "0"
        }),
    soil = /* color: #d6b257 */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-90.34585640300871, 45.014183431965556],
               [-90.34577057232023, 45.014183431965556],
               [-90.34584835638167, 45.01439011070262]]],
             [[[-90.34690112342001, 45.01436356485155],
               [-90.34690112342001, 45.01425738132414],
               [-90.34687832464338, 45.01425927746031],
               [-90.34687296022535, 45.01436735711674]]],
             [[[-90.34622520674826, 45.01423936802765],
               [-90.34619302024008, 45.01424600450597],
               [-90.34620106686712, 45.01436261678522],
               [-90.3462332533753, 45.01436072065248]]]]),
        {
          "class_2017": 2,
          "system:index": "0"
        }),
    impervious = /* color: #ff3e0c */ee.Feature(
        ee.Geometry.Polygon(
            [[[-90.3279035719412, 45.00598217769598],
              [-90.3279035719412, 45.00585891090359],
              [-90.32651955208952, 45.00589683917567],
              [-90.32652223429854, 45.006029587930136]]]),
        {
          "class_2017": 1,
          "system:index": "0"
        }),
    water = /* color: #1d65f7 */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-90.32922050902823, 45.00155861411567],
               [-90.32943612168056, 45.001135447621074],
               [-90.3285080773614, 45.00141613938183],
               [-90.32849198410732, 45.001529932947136]]],
             [[[-89.635427104442, 44.9652874178074],
               [-89.63545258542764, 44.965249462656985],
               [-89.63544856211412, 44.96520486532318],
               [-89.63546733757723, 44.96518304108334],
               [-89.63547672530878, 44.965150779148374],
               [-89.63557864925134, 44.96515267690979],
               [-89.63558133146036, 44.96512610824473],
               [-89.63557462593782, 44.96510238621195],
               [-89.6355518271612, 44.9650691753496],
               [-89.63556121489275, 44.96501508904689],
               [-89.6356430222677, 44.964990418084874],
               [-89.63569264313448, 44.96499516250147],
               [-89.63574092289674, 44.964974287065495],
               [-89.63570739528406, 44.964942973897294],
               [-89.63560949465501, 44.96494392278144],
               [-89.63531579276788, 44.965262746962495]]],
             [[[-89.63331896729211, 44.965053200814886],
               [-89.63323850102167, 44.96507692286799],
               [-89.63320363230447, 44.96503612093056],
               [-89.6331727869008, 44.96505509857947],
               [-89.63312316603403, 44.96506648516581],
               [-89.63306818074922, 44.96508166727743],
               [-89.63296893901567, 44.96512057142007],
               [-89.63299442000131, 44.96518224866532],
               [-89.63351342744569, 44.965122469182454],
               [-89.63348258204202, 44.96505794522627],
               [-89.63341955013017, 44.96506743404792]]],
             [[[-89.63262963059849, 44.969353224129506],
               [-89.63262963059849, 44.969325708598355],
               [-89.63261890176243, 44.96931622048109],
               [-89.63262292507595, 44.96927826799638],
               [-89.63265377047962, 44.9692469571776],
               [-89.63265242937511, 44.969144485287536],
               [-89.63256928089565, 44.969142587658226],
               [-89.63255721095508, 44.96935891699636]]],
             [[[-89.63140495122802, 44.9693287391967],
               [-89.63145256043803, 44.969304070089855],
               [-89.6313834935559, 44.96921535609885],
               [-89.63126413525474, 44.969198277453785],
               [-89.63126145304572, 44.96922104897937]]],
             [[[-89.63094763459098, 44.9693927839437],
               [-89.6309603750838, 44.96933775290615],
               [-89.63090471924674, 44.96928129859725],
               [-89.63086985052955, 44.969353408292875]]],
             [[[-89.63331559678717, 44.96728421252731],
               [-89.63147694250746, 44.96702517714363],
               [-89.63146353146239, 44.96728136599099]]]]),
        {
          "class_2017": 4,
          "system:index": "0"
        });
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var pts = ee.FeatureCollection('users/erker/UTC/marathon_combined_sub_1k');
var pts = pts.remap([1,2,3,4,5], [0,1,2,3,4], 'class_2017');


var pts2 = pts.merge(grass).merge(tree).merge(soil).merge(impervious).merge(water);
print(pts2);

var naip = ee.ImageCollection('USDA/NAIP/DOQQ').filterBounds(pts);
var naip17c = naip.filterDate('2017-01-01', '2017-12-31');
var naip17 = naip17c.median().byte()
Map.addLayer(naip17);

var image = ee.Image.cat([naip17]); 


var classProperty = 'class_2017';

var training = image.sampleRegions({
  collection: pts2,
  properties: [classProperty],
  scale: 1
});
// print(training);

var trainedClassifier = ee.Classifier.smileRandomForest(100).train({
  features: training,
  classProperty: classProperty,
  inputProperties: image.bandNames()
});

// print(trainedClassifier);


var classified = image.classify(trainedClassifier);
Map.addLayer(classified, {min: 0, max: 4, palette: ['yellow', 'red', 'brown','green','blue']});




